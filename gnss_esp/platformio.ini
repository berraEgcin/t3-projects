[platformio]
default_envs = esp32-s3-n4r2-idf
src_dir = src
include_dir = include

[env:esp32-s3-n4r2-idf]
platform = espressif32
board = adafruit_feather_esp32s3
framework = espidf
monitor_speed = 115200

; --- Flash and PSRAM Settings (N4R2 Specific) ---
board_build.partitions = partitions_singleapp.csv

; --- Hardware Connection ---
monitor_filters = 
    esp32_exception_decoder
    time

; --- Build Options ---
build_flags = 
    -D ESP32S3
    -D BOARD_BOSMAG
    -O2
    ; Enable PSRAM support
    -D BOARD_HAS_PSRAM
    -mfix-esp32-psram-cache-issue
    ; Enable C++11/14 features for std::map and std::set
    -std=gnu++14

; --- ESP-IDF Components ---
; mbedtls is part of ESP-IDF, so we just need to ensure it's included
build_unflags = 
    -std=gnu++11

